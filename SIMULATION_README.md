# æ¨¡æ‹Ÿä»¿çœŸè„šæœ¬ä½¿ç”¨è¯´æ˜

## ğŸ“‹ åŠŸèƒ½æ¦‚è¿°

`simulation.py` è„šæœ¬ç”¨äºç”Ÿæˆè®ºæ–‡æ ¸å¿ƒæ•°æ®ï¼Œå¯¹æ¯” Adaptive (AI) å’Œ Linear (Control Group) ä¸¤ç§å­¦ä¹ æ¨¡å¼çš„æ”¶æ•›é€Ÿåº¦ã€‚

## ğŸš€ å¿«é€Ÿå¼€å§‹

### 1. å®‰è£…ä¾èµ–

```bash
pip install -r requirements_simulation.txt
```

æˆ–è€…å•ç‹¬å®‰è£…ï¼š
```bash
pip install matplotlib seaborn
```

### 2. è¿è¡Œè„šæœ¬

```bash
python simulation.py
```

### 3. æŸ¥çœ‹ç»“æœ

è¿è¡Œå®Œæˆåï¼Œç»“æœä¼šä¿å­˜åœ¨ `simulation_results/` ç›®å½•ä¸‹ï¼š
- `simulation_results.csv` - è¯¦ç»†å®éªŒè®°å½•
- `convergence_summary.csv` - æ±‡æ€»ç»Ÿè®¡
- `ability_trajectories.csv` - èƒ½åŠ›ä¼°è®¡è½¨è¿¹
- `statistical_summary.csv` - ç»Ÿè®¡æ‘˜è¦è¡¨
- `*.png` - å„ç§å¯è§†åŒ–å›¾è¡¨

## âš™ï¸ é…ç½®å‚æ•°

åœ¨ `simulation.py` æ–‡ä»¶é¡¶éƒ¨çš„ `CONFIG` å­—å…¸ä¸­å¯ä»¥ä¿®æ”¹å‚æ•°ï¼š

```python
CONFIG = {
    "ability_values": [0.2, 0.3, 0.4, 0.5, 0.6, 0.7, 0.8, 0.9],  # èƒ½åŠ›å€¼åˆ—è¡¨
    "students_per_ability": 10,  # æ¯ä¸ªèƒ½åŠ›å€¼çš„å­¦ç”Ÿæ•°
    "modes": ["Adaptive", "Linear"],  # å­¦ä¹ æ¨¡å¼
    "convergence_threshold": 0.05,  # æ”¶æ•›é˜ˆå€¼
    "max_questions": 50,  # æœ€å¤§é¢˜ç›®æ•°
    "random_seed": 42,  # éšæœºç§å­ï¼ˆä¿è¯å¯é‡å¤æ€§ï¼‰
    "output_dir": "simulation_results",  # è¾“å‡ºç›®å½•
    "stability_window": 3,  # ç¨³å®šæ”¶æ•›æ£€æŸ¥çª—å£
    "use_stability_check": False  # æ˜¯å¦ä½¿ç”¨ç¨³å®šæ”¶æ•›æ£€æŸ¥
}
```

## ğŸ“Š è¾“å‡ºæ–‡ä»¶è¯´æ˜

### 1. simulation_results.csv
æ¯æ¬¡å®éªŒçš„è¯¦ç»†è®°å½•ï¼š
- `student_id`: å­¦ç”ŸID
- `true_ability`: çœŸå®èƒ½åŠ›å€¼
- `mode`: å­¦ä¹ æ¨¡å¼
- `convergence_step`: æ”¶æ•›æ­¥æ•°
- `final_estimated`: æœ€ç»ˆä¼°è®¡èƒ½åŠ›å€¼
- `final_error`: æœ€ç»ˆè¯¯å·®
- `total_questions`: æ€»é¢˜ç›®æ•°
- `converged`: æ˜¯å¦æ”¶æ•›

### 2. convergence_summary.csv
æŒ‰èƒ½åŠ›å€¼å’Œæ¨¡å¼åˆ†ç»„çš„æ±‡æ€»ç»Ÿè®¡ï¼š
- `ability`: èƒ½åŠ›å€¼
- `mode`: å­¦ä¹ æ¨¡å¼
- `mean_steps`: å¹³å‡æ”¶æ•›æ­¥æ•°
- `std_steps`: æ ‡å‡†å·®
- `median_steps`: ä¸­ä½æ•°
- `convergence_rate`: æ”¶æ•›æˆåŠŸç‡
- `mean_error`: å¹³å‡è¯¯å·®

### 3. ability_trajectories.csv
èƒ½åŠ›ä¼°è®¡è½¨è¿¹ï¼ˆç”¨äºç”»å›¾ï¼‰ï¼š
- `student_id`: å­¦ç”ŸID
- `step`: æ­¥æ•°
- `estimated_ability`: ä¼°è®¡èƒ½åŠ›å€¼
- `entropy`: ç†µå€¼
- `question_id`: é¢˜ç›®ID
- `true_ability`: çœŸå®èƒ½åŠ›å€¼
- `mode`: å­¦ä¹ æ¨¡å¼

### 4. å¯è§†åŒ–å›¾è¡¨

#### convergence_speed_comparison.png
**æ ¸å¿ƒå›¾è¡¨**ï¼šæ”¶æ•›é€Ÿåº¦å¯¹æ¯”
- å±•ç¤º Adaptive å’Œ Linear ä¸¤ç§æ¨¡å¼çš„èƒ½åŠ›ä¼°è®¡è½¨è¿¹
- åŒ…å«çœŸå®èƒ½åŠ›å€¼å‚è€ƒçº¿
- ç”¨äºè®ºæ–‡ç¬¬5ç« 

#### convergence_steps_boxplot.png
æ”¶æ•›æ­¥æ•°ç®±çº¿å›¾
- å¯¹æ¯”ä¸åŒèƒ½åŠ›å€¼ä¸‹ä¸¤ç§æ¨¡å¼çš„æ”¶æ•›æ­¥æ•°åˆ†å¸ƒ
- å±•ç¤º Adaptive æ¨¡å¼çš„ä¼˜åŠ¿

#### convergence_rate_comparison.png
æ”¶æ•›æˆåŠŸç‡å¯¹æ¯”
- å±•ç¤ºä¸¤ç§æ¨¡å¼åœ¨ä¸åŒèƒ½åŠ›å€¼ä¸‹çš„æ”¶æ•›æˆåŠŸç‡

#### entropy_comparison.png
ç†µå€¼å˜åŒ–å¯¹æ¯”
- å±•ç¤ºä¸¤ç§æ¨¡å¼ä¸‹ä¸ç¡®å®šæ€§çš„é™ä½é€Ÿåº¦

#### statistical_summary_table.png
ç»Ÿè®¡æ‘˜è¦è¡¨
- åŒ…å«æå‡æ¯”ä¾‹ç­‰å…³é”®æŒ‡æ ‡

## ğŸ”¬ å®éªŒè®¾è®¡

### è™šæ‹Ÿå­¦ç”Ÿåˆ›å»º
- **èƒ½åŠ›å€¼åˆ†å¸ƒ**ï¼š0.2, 0.3, 0.4, 0.5, 0.6, 0.7, 0.8, 0.9
- **æ¯ä¸ªèƒ½åŠ›å€¼**ï¼š10ä¸ªè™šæ‹Ÿå­¦ç”Ÿ
- **æ¯ç§æ¨¡å¼**ï¼šæ¯ä¸ªå­¦ç”Ÿéƒ½æµ‹è¯•ä¸¤ç§æ¨¡å¼
- **æ€»å®éªŒæ•°**ï¼š8 Ã— 10 Ã— 2 = 160 æ¬¡å®éªŒ

### æ”¶æ•›åˆ¤æ–­æ ‡å‡†
- **é˜ˆå€¼**ï¼š|ä¼°è®¡å€¼ - çœŸå®å€¼| < 0.05
- **æœ€å¤§é¢˜ç›®æ•°**ï¼š50é¢˜ï¼ˆé˜²æ­¢æ— é™å¾ªç¯ï¼‰

### è‡ªåŠ¨ç­”é¢˜é€»è¾‘
- ä½¿ç”¨ä¸ç³»ç»Ÿç›¸åŒçš„ IRT æ¨¡å‹
- æ ¹æ®çœŸå®èƒ½åŠ›å€¼å’Œé¢˜ç›®éš¾åº¦è®¡ç®—ç­”å¯¹æ¦‚ç‡
- ä½¿ç”¨éšæœºæ•°å†³å®šæ˜¯å¦ç­”å¯¹

## ğŸ“ˆ é¢„æœŸç»“æœ

### å‡è®¾
- **Adaptiveæ¨¡å¼**å¹³å‡æ”¶æ•›æ­¥æ•° < **Linearæ¨¡å¼**å¹³å‡æ”¶æ•›æ­¥æ•°
- å·®å¼‚åœ¨ç»Ÿè®¡ä¸Šæ˜¾è‘—
- å¹³å‡æå‡çº¦ 20-30%

### è®ºæ–‡åº”ç”¨
1. **ç¬¬5ç«  å®éªŒä¸è¯æ˜**çš„æ ¸å¿ƒæ•°æ®æ¥æº
2. è¯æ˜ Active Inference ç®—æ³•çš„æœ‰æ•ˆæ€§
3. é‡åŒ–æ”¶æ•›é€Ÿåº¦æå‡

## âš ï¸ æ³¨æ„äº‹é¡¹

1. **è¿è¡Œæ—¶é—´**ï¼š160æ¬¡å®éªŒå¤§çº¦éœ€è¦ 1-2 åˆ†é’Ÿ
2. **éšæœºç§å­**ï¼šé»˜è®¤ä½¿ç”¨å›ºå®šéšæœºç§å­ï¼ˆ42ï¼‰ï¼Œä¿è¯ç»“æœå¯é‡å¤
3. **å†…å­˜ä½¿ç”¨**ï¼šè½¨è¿¹æ•°æ®å¯èƒ½è¾ƒå¤§ï¼Œç¡®ä¿æœ‰è¶³å¤Ÿå†…å­˜
4. **ä¾èµ–åº“**ï¼šç¡®ä¿å®‰è£…äº†æ‰€æœ‰å¿…éœ€çš„åº“

## ğŸ› æ•…éšœæ’é™¤

### é—®é¢˜1ï¼šModuleNotFoundError
**è§£å†³**ï¼šå®‰è£…ç¼ºå¤±çš„åº“
```bash
pip install matplotlib seaborn
```

### é—®é¢˜2ï¼šæ‰¾ä¸åˆ° questions.csv
**è§£å†³**ï¼šç¡®ä¿ `questions.csv` æ–‡ä»¶åœ¨å½“å‰ç›®å½•

### é—®é¢˜3ï¼šå›¾è¡¨ä¸­æ–‡æ˜¾ç¤ºä¹±ç 
**è§£å†³**ï¼šè„šæœ¬å·²é…ç½®ä¸­æ–‡å­—ä½“ï¼Œå¦‚æœä»æœ‰é—®é¢˜ï¼Œå¯èƒ½éœ€è¦å®‰è£…ä¸­æ–‡å­—ä½“

## ğŸ“ è‡ªå®šä¹‰å®éªŒ

### ä¿®æ”¹èƒ½åŠ›å€¼åˆ†å¸ƒ
```python
CONFIG["ability_values"] = [0.1, 0.2, 0.3, ..., 0.9]  # è‡ªå®šä¹‰èƒ½åŠ›å€¼
```

### å¢åŠ å­¦ç”Ÿæ•°é‡
```python
CONFIG["students_per_ability"] = 20  # æ¯ä¸ªèƒ½åŠ›å€¼20ä¸ªå­¦ç”Ÿ
```

### ä¿®æ”¹æ”¶æ•›é˜ˆå€¼
```python
CONFIG["convergence_threshold"] = 0.03  # æ›´ä¸¥æ ¼çš„æ”¶æ•›æ ‡å‡†
```

### å¯ç”¨ç¨³å®šæ”¶æ•›æ£€æŸ¥
```python
CONFIG["use_stability_check"] = True  # è¦æ±‚è¿ç»­Næ­¥ç¨³å®š
```

## ğŸ“š ç›¸å…³æ–‡ä»¶

- `simulation.py` - ä¸»è„šæœ¬
- `algo.py` - Active Inference ç®—æ³•å®ç°
- `questions.csv` - é¢˜ç›®æ•°æ®
- `SIMULATION_DESIGN.md` - è¯¦ç»†è®¾è®¡æ–¹æ¡ˆ

## ğŸ“ è®ºæ–‡å¼•ç”¨å»ºè®®

åœ¨è®ºæ–‡ä¸­ä½¿ç”¨è¿™äº›ç»“æœæ—¶ï¼Œå»ºè®®ï¼š
1. å¼•ç”¨æ”¶æ•›é€Ÿåº¦å¯¹æ¯”å›¾ï¼ˆconvergence_speed_comparison.pngï¼‰
2. å¼•ç”¨ç»Ÿè®¡æ‘˜è¦è¡¨ï¼ˆstatistical_summary.csvï¼‰
3. è¿›è¡Œç»Ÿè®¡æ˜¾è‘—æ€§æ£€éªŒï¼ˆtæ£€éªŒæˆ–Mann-Whitney Uæ£€éªŒï¼‰
4. è®¡ç®—æ•ˆåº”é‡ï¼ˆCohen's dï¼‰

---

**ç¥è®ºæ–‡é¡ºåˆ©ï¼** ğŸš€

